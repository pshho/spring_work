package aop_p.adv;

import org.aspectj.lang.ProceedingJoinPoint;

public class AroundAdvice {
	Object arTest(ProceedingJoinPoint joinPoint) {
		Object res = null;
		
		// advice를 적용할 method의 이름을 알 수 있음(joinPoint가 진입된 method의 이름)
		System.out.println(" >> arTest 진입.toString : " + joinPoint.toString());
		System.out.println(" >> arTest 진입.toShortString : " + joinPoint.toShortString());
		System.out.println(" >> signature : " + joinPoint.getSignature()); // Method의 이름, 매개 변수 유형 및 반환 유형 등
		System.out.println(" >> signature.getName : " + joinPoint.getSignature().getName()); // Method 이름
		System.out.println(" >> signature.toShortString : " + joinPoint.getSignature().toShortString()); // 클래스.Method
		System.out.println(" >> target : " + joinPoint.getTarget());
		System.out.println(" >> args : " + joinPoint.getArgs());
		System.out.println(" >> this : " + joinPoint.getThis());
		
		// joinPoint.proceed로 검사하는 method를 실행시킬 수 있음
		try {
			res = joinPoint.proceed();
		} catch (Throwable e) {
			e.printStackTrace();
		}
		
		System.out.println(">> arTest 진입 완료");
		
		return res;
	}
}
